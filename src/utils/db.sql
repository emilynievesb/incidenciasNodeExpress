
DROP DATABASE insidencias_campus;
CREATE DATABASE insidencias_campus;
USE insidencias_campus;
CREATE TABLE areas (
    id_area INT AUTO_INCREMENT NOT NULL,
    nombre_area VARCHAR(50) NOT NULL,
    CONSTRAINT pk_areas PRIMARY KEY (id_area)
);
CREATE TABLE salas (
    id_sala INT AUTO_INCREMENT NOT NULL,
    nombre_sala VARCHAR(50) NOT NULL,
    id_area INT NOT NULL,
    CONSTRAINT pk_salas PRIMARY KEY (id_sala),
    CONSTRAINT fk_SalasAreas FOREIGN KEY (id_area) REFERENCES areas(id_area)
);
CREATE TABLE tipos_insidencias (
    id_tipo_insidencia INT AUTO_INCREMENT NOT NULL,
    nombre_tipo_insidencia VARCHAR(50) NOT NULL,
    CONSTRAINT pk_tipos_insidencias PRIMARY KEY (id_tipo_insidencia)
);

CREATE TABLE categorias_insidencias (
    id_categoria_insidencia INT AUTO_INCREMENT NOT NULL,
    nombre_categoria_insidencia VARCHAR(50) NOT NULL,
    CONSTRAINT pk_categorias_insidencias PRIMARY KEY (id_categoria_insidencia)
);

CREATE TABLE tipos_equipos (
    id_tipo_equipo INT AUTO_INCREMENT NOT NULL,
    nombre_equipo VARCHAR(50) NOT NULL,
    CONSTRAINT pk_tipos_equipos PRIMARY KEY (id_tipo_equipo)
);
CREATE TABLE equipos(
    id_equipo INT AUTO_INCREMENT NOT NULL,
    id_tipo_equipo INT NOT NULL,
    serial_equipo VARCHAR(50) NOT NULL,
    id_sala INT NOT NULL,
    CONSTRAINT pk_equipos PRIMARY KEY (id_equipo),
    CONSTRAINT fk_EquiposTiposEquipos FOREIGN KEY (id_tipo_equipo) REFERENCES tipos_equipos(id_tipo_equipo),
    CONSTRAINT fk_EquiposSalas FOREIGN KEY (id_sala) REFERENCES salas(id_sala)
    );

CREATE TABLE trainers (
    id_trainer INT AUTO_INCREMENT NOT NULL,
    nombre_trainer VARCHAR(60) NOT NULL,
    email_personal VARCHAR(80) NOT NULL,
    email_corporativo VARCHAR(60) NOT NULL,
    telefono_movil INT NOT NULL,
    telefono_residencia INT NOT NULL,
    telefono_empresa INT NOT NULL,
    telefono_movil_empresarial INT NOT NULL,
    CONSTRAINT pk_trainer PRIMARY KEY (id_trainer)
);
CREATE TABLE insidencias (
    id_insidencia INT AUTO_INCREMENT NOT NULL,
    id_trainer INT NOT NULL,
    id_equipo INT NOT NULL,
    id_categoria_insidencia INT NOT NULL,
    id_tipo_insidencia INT NOT NULL,
    descripcion VARCHAR(80) NOT NULL,
    fecha_insidencia DATE NOT NULL,
    CONSTRAINT fk_InsidenciasTrainers FOREIGN KEY (id_trainer) REFERENCES trainers(id_trainer),
    CONSTRAINT fk_InsidenciasEquipos FOREIGN KEY (id_equipo) REFERENCES equipos(id_equipo),
    CONSTRAINT fk_InsidenciasCategoriasInsidencias FOREIGN KEY (id_categoria_insidencia) REFERENCES categorias_insidencias(id_categoria_insidencia),
    CONSTRAINT fk_InsidenciasTiposInsidencias FOREIGN KEY (id_tipo_insidencia) REFERENCES tipos_insidencias(id_tipo_insidencia),
    CONSTRAINT pk_insidencias PRIMARY KEY (id_insidencia)
);
INSERT INTO categorias_insidencias (nombre_categoria_insidencia)
VALUES
  ('Hardware'),
  ('Software');
INSERT INTO areas (nombre_area)
VALUES
  ('Area Training'),
  ('Area Review 1'),
  ('Area Review 2');

INSERT INTO salas (nombre_sala, id_area)
VALUES
  ("Sputnik", 1),
  ("Artemis", 1),
  ("Apolo", 1),
  ("Skylab", 1),
  ("Corvus", 2),
  ("Endor", 3);
INSERT INTO tipos_insidencias (nombre_tipo_insidencia)
VALUES
  ('Leve'),
  ('Moderada'),
  ('Cr√≠tica');
INSERT INTO tipos_equipos (nombre_equipo)
VALUES
  ('Computador'),
  ('Teclado'),
  ('Mouse'),
  ('Diadema');

INSERT INTO equipos (id_tipo_equipo, serial_equipo, id_sala)
VALUES
  (1, 'CPSP001', 1),
  (1, 'CPSP002', 1),
  (1, 'CPSP003', 1),
  (1, 'CPSP004', 1),
  (1, 'CPSP005', 1),
  (1, 'CPSP006', 1),
  (1, 'CPSP007', 1),
  (1, 'CPSP008', 1),
  (1, 'CPSP009', 1),
  (1, 'CPSP010', 1),
  (1, 'CPAR001', 2),
  (1, 'CPAR002', 2),
  (1, 'CPAR003', 2),
  (1, 'CPAR004', 2),
  (1, 'CPAR005', 2),
  (1, 'CPAR006', 2),
  (1, 'CPAR007', 2),
  (1, 'CPAR008', 2),
  (1, 'CPAR009', 2),
  (1, 'CPAR010', 2),
  (1, 'CPAP001', 3),
  (1, 'CPAP002', 3),
  (1, 'CPAP003', 3),
  (1, 'CPAP004', 3),
  (1, 'CPAP005', 3),
  (1, 'CPAP006', 3),
  (1, 'CPAP007', 3),
  (1, 'CPAP008', 3),
  (1, 'CPAP009', 3),
  (1, 'CPAP010', 3),
  (1, 'CPSK001', 4),
  (1, 'CPSK002', 4),
  (1, 'CPSK003', 4),
  (1, 'CPSK004', 4),
  (1, 'CPSK005', 4),
  (1, 'CPSK006', 4),
  (1, 'CPSK007', 4),
  (1, 'CPSK008', 4),
  (1, 'CPSK009', 4),
  (1, 'CPSK010', 4),
  (1, 'CPCO001', 5),
  (1, 'CPCO002', 5),
  (1, 'CPCO003', 5),
  (1, 'CPCO004', 5),
  (1, 'CPCO005', 5),
  (1, 'CPCO006', 5),
  (1, 'CPCO007', 5),
  (1, 'CPCO008', 5),
  (1, 'CPCO009', 5),
  (1, 'CPCO010', 5),
  (1, 'CPEN001', 6),
  (1, 'CPEN002', 6),
  (1, 'CPEN003', 6),
  (1, 'CPEN004', 6),
  (1, 'CPEN005', 6),
  (1, 'CPEN006', 6),
  (1, 'CPEN007', 6),
  (1, 'CPEN008', 6),
  (1, 'CPEN009', 6),
  (1, 'CPEN010', 6),
  (2, 'TCSP001', 1),
  (2, 'TCSP002', 1),
  (2, 'TCSP003', 1),
  (2, 'TCSP004', 1),
  (2, 'TCSP005', 1),
  (2, 'TCSP006', 1),
  (2, 'TCSP007', 1),
  (2, 'TCSP008', 1),
  (2, 'TCSP009', 1),
  (2, 'TCSP010', 1),
  (2, 'TCAR001', 2),
  (2, 'TCAR002', 2),
  (2, 'TCAR003', 2),
  (2, 'TCAR004', 2),
  (2, 'TCAR005', 2),
  (2, 'TCAR006', 2),
  (2, 'TCAR007', 2),
  (2, 'TCAR008', 2),
  (2, 'TCAR009', 2),
  (2, 'TCAR010', 2),
  (2, 'TCAP001', 3),
  (2, 'TCAP002', 3),
  (2, 'TCAP003', 3),
  (2, 'TCAP004', 3),
  (2, 'TCAP005', 3),
  (2, 'TCAP006', 3),
  (2, 'TCAP007', 3),
  (2, 'TCAP008', 3),
  (2, 'TCAP009', 3),
  (2, 'TCAP010', 3),
  (2, 'TCSK001', 4),
  (2, 'TCSK002', 4),
  (2, 'TCSK003', 4),
  (2, 'TCSK004', 4),
  (2, 'TCSK005', 4),
  (2, 'TCSK006', 4),
  (2, 'TCSK007', 4),
  (2, 'TCSK008', 4),
  (2, 'TCSK009', 4),
  (2, 'TCSK010', 4),
  (2, 'TCCO001', 5),
  (2, 'TCCO002', 5),
  (2, 'TCCO003', 5),
  (2, 'TCCO004', 5),
  (2, 'TCCO005', 5),
  (2, 'TCCO006', 5),
  (2, 'TCCO007', 5),
  (2, 'TCCO008', 5),
  (2, 'TCCO009', 5),
  (2, 'TCCO010', 5),
  (2, 'TCEN001', 6),
  (2, 'TCEN002', 6),
  (2, 'TCEN003', 6),
  (2, 'TCEN004', 6),
  (2, 'TCEN005', 6),
  (2, 'TCEN006', 6),
  (2, 'TCEN007', 6),
  (2, 'TCEN008', 6),
  (2, 'TCEN009', 6),
  (2, 'TCEN010', 6),
  (3, 'MSSP001', 1),
  (3, 'MSSP002', 1),
  (3, 'MSSP003', 1),
  (3, 'MSSP004', 1),
  (3, 'MSSP005', 1),
  (3, 'MSSP006', 1),
  (3, 'MSSP007', 1),
  (3, 'MSSP008', 1),
  (3, 'MSSP009', 1),
  (3, 'MSSP010', 1),
  (3, 'MSAR001', 2),
  (3, 'MSAR002', 2),
  (3, 'MSAR003', 2),
  (3, 'MSAR004', 2),
  (3, 'MSAR005', 2),
  (3, 'MSAR006', 2),
  (3, 'MSAR007', 2),
  (3, 'MSAR008', 2),
  (3, 'MSAR009', 2),
  (3, 'MSAR010', 2),
  (3, 'MSAP001', 3),
  (3, 'MSAP002', 3),
  (3, 'MSAP003', 3),
  (3, 'MSAP004', 3),
  (3, 'MSAP005', 3),
  (3, 'MSAP006', 3),
  (3, 'MSAP007', 3),
  (3, 'MSAP008', 3),
  (3, 'MSAP009', 3),
  (3, 'MSAP010', 3),
  (3, 'MSSK001', 4),
  (3, 'MSSK002', 4),
  (3, 'MSSK003', 4),
  (3, 'MSSK004', 4),
  (3, 'MSSK005', 4),
  (3, 'MSSK006', 4),
  (3, 'MSSK007', 4),
  (3, 'MSSK008', 4),
  (3, 'MSSK009', 4),
  (3, 'MSSK010', 4),
  (3, 'MSCO001', 5),
  (3, 'MSCO002', 5),
  (3, 'MSCO003', 5),
  (3, 'MSCO004', 5),
  (3, 'MSCO005', 5),
  (3, 'MSCO006', 5),
  (3, 'MSCO007', 5),
  (3, 'MSCO008', 5),
  (3, 'MSCO009', 5),
  (3, 'MSCO010', 5),
  (3, 'MSEN001', 6),
  (3, 'MSEN002', 6),
  (3, 'MSEN003', 6),
  (3, 'MSEN004', 6),
  (3, 'MSEN005', 6),
  (3, 'MSEN006', 6),
  (3, 'MSEN007', 6),
  (3, 'MSEN008', 6),
  (3, 'MSEN009', 6),
  (3, 'MSEN010', 6),
  (4, 'DDSP001', 1),
  (4, 'DDSP002', 1),
  (4, 'DDSP003', 1),
  (4, 'DDSP004', 1),
  (4, 'DDSP005', 1),
  (4, 'DDSP006', 1),
  (4, 'DDSP007', 1),
  (4, 'DDSP008', 1),
  (4, 'DDSP009', 1),
  (4, 'DDSP010', 1),
  (4, 'DDAR001', 2),
  (4, 'DDAR002', 2),
  (4, 'DDAR003', 2),
  (4, 'DDAR004', 2),
  (4, 'DDAR005', 2),
  (4, 'DDAR006', 2),
  (4, 'DDAR007', 2),
  (4, 'DDAR008', 2),
  (4, 'DDAR009', 2),
  (4, 'DDAR010', 2),
  (4, 'DDAP001', 3),
  (4, 'DDAP002', 3),
  (4, 'DDAP003', 3),
  (4, 'DDAP004', 3),
  (4, 'DDAP005', 3),
  (4, 'DDAP006', 3),
  (4, 'DDAP007', 3),
  (4, 'DDAP008', 3),
  (4, 'DDAP009', 3),
  (4, 'DDAP010', 3),
  (4, 'DDSK001', 4),
  (4, 'DDSK002', 4),
  (4, 'DDSK003', 4),
  (4, 'DDSK004', 4),
  (4, 'DDSK005', 4),
  (4, 'DDSK006', 4),
  (4, 'DDSK007', 4),
  (4, 'DDSK008', 4),
  (4, 'DDSK009', 4),
  (4, 'DDSK010', 4),
  (4, 'DDCO001', 5),
  (4, 'DDCO002', 5),
  (4, 'DDCO003', 5),
  (4, 'DDCO004', 5),
  (4, 'DDCO005', 5),
  (4, 'DDCO006', 5),
  (4, 'DDCO007', 5),
  (4, 'DDCO008', 5),
  (4, 'DDCO009', 5),
  (4, 'DDCO010', 5),
  (4, 'DDEN001', 6),
  (4, 'DDEN002', 6),
  (4, 'DDEN003', 6),
  (4, 'DDEN004', 6),
  (4, 'DDEN005', 6),
  (4, 'DDEN006', 6),
  (4, 'DDEN007', 6),
  (4, 'DDEN008', 6),
  (4, 'DDEN009', 6),
  (4, 'DDEN010', 6);

INSERT INTO trainers (nombre_trainer, email_personal,
email_corporativo, telefono_movil, telefono_residencia,
telefono_empresa, telefono_movil_empresarial)
VALUES
  ('Miguel', 'miguel@gmail.com', 'miguel2@gmail.com', 31111111, 622222, 6333333,32222222),
  ('Jholver', 'jholver@gmail.com', 'jholver2@gmail.com', 31111111, 622222, 6333333,32222222),
  ('Vermen', 'vermen@gmail.com', 'vermen2@gmail.com', 31111111, 622222, 6333333,32222222),
  ('Roy', 'roy@gmail.com', 'roy2@gmail.com', 31111111, 622222, 6333333,32222222),
  ('Carlos', 'carlos@gmail.com', 'carlos2@gmail.com', 31111111, 622222, 6333333,32222222);

INSERT INTO insidencias (id_trainer, id_equipo,
id_categoria_insidencia, id_tipo_insidencia, descripcion,
fecha_insidencia)
VALUES
  (1, 1, 1, 1, 'Insidencia prueba', '2023-07-10'),
  (1, 2, 1, 1, 'Insidencia prueba', '2023-07-10'),
  (1, 3, 2, 2, 'Insidencia prueba', '2023-07-11'),
  (1, 4, 2, 2, 'Insidencia prueba', '2023-07-11'),
  (1, 5, 2, 1, 'Insidencia prueba', '2023-07-12'),
  (2, 6, 1, 1, 'Insidencia prueba', '2023-07-12'),
  (2, 7, 1, 1, 'Insidencia prueba', '2023-07-13'),
  (2, 8, 2, 2, 'Insidencia prueba', '2023-07-14'),
  (2, 9, 2, 2, 'Insidencia prueba', '2023-07-14'),
  (2, 10, 2, 1, 'Insidencia prueba', '2023-07-14');



